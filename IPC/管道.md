# IPC 基础

### 一、管道

#### 1. 管道（非命名管道、仅亲缘程序间通信）

- 单向管道示意图：![image-20221214151317578](D:/desktop/onedrive%E5%90%8C%E6%AD%A5/OneDrive%20-%20Bergen%20Community%20College/%E5%B0%8F%E7%AC%94%E5%A4%B4/image-20221214151317578.png)
- 双向管道示意图：![image-20221214151356127](D:/desktop/onedrive%E5%90%8C%E6%AD%A5/OneDrive%20-%20Bergen%20Community%20College/%E5%B0%8F%E7%AC%94%E5%A4%B4/image-20221214151356127.png)
- int pipe(int * fdArray)函数返回管道的两个文件描述符：fd[0]用于读管道， fd[1]用于写管道；



### 二、管道使用注意事项（FD[0]为读管道而打开，FD[1]为写管道而打开）

#### 1.   写管道：FD[1]

​		向管道中写入数据时，LINUX将不保证写入的原子性，管道缓冲区一有空闲区域，写进程就会试图向管道写入数据。如果读进程不读走管道缓冲区中的数据，那么写操作将一直阻塞。
注：只有在管道的读端存在时，向管道中写入数据才有意义。否则，向管道中写入数据的进程将收到内核传来的SIFPIPE信号，应用程序可以处理该信号，也可以忽略（默认动作则是应用程序终止）。但是如果利用FIFO进行通信，则没有这个限制。

#### 2.   读管道: FD[0]

​		read在对管道进行读取时，如果管道内无数据，则read会阻塞在那里。



